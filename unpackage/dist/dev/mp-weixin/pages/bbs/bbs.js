(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/bbs/bbs"],{315:function(e,t,n){"use strict";(function(e,t){var o=n(4);n(26);o(n(25));var a=o(n(316));e.__webpack_require_UNI_MP_PLUGIN__=n,t(a.default)}).call(this,n(1)["default"],n(2)["createPage"])},316:function(e,t,n){"use strict";n.r(t);var o=n(317),a=n(319);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n(321);var r,u=n(32),s=Object(u["default"])(a["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],r);s.options.__file="pages/bbs/bbs.vue",t["default"]=s.exports},317:function(e,t,n){"use strict";n.r(t);var o=n(318);n.d(t,"render",(function(){return o["render"]})),n.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(t,"components",(function(){return o["components"]}))},318:function(e,t,n){"use strict";var o;n.r(t),n.d(t,"render",(function(){return a})),n.d(t,"staticRenderFns",(function(){return r})),n.d(t,"recyclableRender",(function(){return i})),n.d(t,"components",(function(){return o}));try{o={uModal:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-modal/u-modal")]).then(n.bind(null,1042))},uSearch:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-search/u-search")]).then(n.bind(null,1050))},uSwiper:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-swiper/u-swiper")]).then(n.bind(null,1058))},uNoticeBar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-notice-bar/u-notice-bar")]).then(n.bind(null,1066))},blockClassify:function(){return n.e("components/blockClassify/blockClassify").then(n.bind(null,1074))},uDivider:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-divider/u-divider")]).then(n.bind(null,972))},pageCard:function(){return n.e("components/pageCard/pageCard").then(n.bind(null,1081))}}}catch(u){if(-1===u.message.indexOf("Cannot find module")||-1===u.message.indexOf(".vue"))throw u;console.error(u.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var a=function(){var e=this,t=e.$createElement;e._self._c},i=!1,r=[];a._withStripped=!0},319:function(e,t,n){"use strict";n.r(t);var o=n(320),a=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=a.a},320:function(e,t,n){"use strict";(function(e){var o=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(55)),i=o(n(57)),r={data:function(){return{text1:"成都交通卡/码联盟+1,攀枝花市米易县也可以刷卡啦",pageData:[],modalShow:!1,isActive:!1,modalTitle:"提示",modalContent:"要去发送新帖子吗？",list3:[],blockData:null,userState:null}},methods:{getUserData:function(){var t=this,n=e.getStorageSync("user_id");e.$u.http.get("/users/getIDTargetUser",{params:{user_id:n}}).then((function(e){t.userState=e.data.data[0].is_banned}))},getHotBlock:function(){var t=this;e.$u.http.get("/bbs/getHotBlock").then((function(n){var o=n.data;t.blockData=o.map((function(e){return{id:e.id,name:e.name}})),e.$u.http.get("/bbs/getBlockPostNum").then((function(e){var n=e.data;t.blockData.forEach((function(e){var t=n.find((function(t){return t.category_id===e.id}));e.num=t?t.post_num:0})),t.$forceUpdate()}))}))},getSwiperData:function(){var t=this;e.$u.http.get("bbs/getWonderfulPost").then((function(e){var n=e.data.data,o=n.map((function(e){return{id:e.id,image:e.image[0],title:e.title}}));t.list3=o}))},toSearch:function(){e.navigateTo({url:"/pages/bbs/search/search"})},toPageDetail:function(t){var n=this.list3[t].id;e.navigateTo({url:"/pages/bbs/pageDetail/pageDetail?postID=".concat(n)})},toBlockClassifyDetail:function(){e.navigateTo({url:"/pages/bbs/bolckClassifyDetail/bolckClassifyDetail"})},showModal:function(){this.modalShow=!0,this.isActive=!0},hiddenModal:function(){this.modalShow=!1,this.isActive=!1},toSendPost:function(){var t=this;return(0,i.default)(a.default.mark((function n(){return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.showLoading({title:"加载中"}),n.next=3,t.getUserData();case 3:0===t.userState?(e.navigateTo({url:"/pages/bbs/sendPost/sendPost"}),e.hideLoading()):(e.hideLoading(),e.showModal({title:"提示",content:"该用户已被封禁，无法发言，请联系管理员",showCancel:!1}),t.modalShow=!1,t.isActive=!1);case 4:case"end":return n.stop()}}),n)})))()},getPageData:function(){var t=this;e.$u.http.get("/bbs/getHotPosts").then((function(e){var n=e.data.data;t.pageData=n}))}},onShow:function(){this.getPageData();var t=e.getStorageSync("isLogin");t||e.reLaunch({url:"/pages/user/login/login"})},onLoad:function(){this.getSwiperData(),this.getUserData(),this.getPageData(),this.getHotBlock(),e.showLoading({title:"加载中"})},onReady:function(){e.hideLoading()}};t.default=r}).call(this,n(2)["default"])},321:function(e,t,n){"use strict";n.r(t);var o=n(322),a=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=a.a},322:function(e,t,n){}},[[315,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/bbs/bbs.js.map