(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/login/signup/signup"],{"00ad":function(e,n,t){"use strict";var u=t("0cc6"),o=t.n(u);o.a},"0cc6":function(e,n,t){},"42a4":function(e,n,t){"use strict";t.r(n);var u=t("7fbc"),o=t.n(u);for(var r in u)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return u[e]}))}(r);n["default"]=o.a},"531b":function(e,n,t){"use strict";t.r(n);var u=t("d7aa"),o=t("42a4");for(var r in o)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(r);t("00ad");var i=t("f0c5"),a=Object(i["a"])(o["default"],u["b"],u["c"],!1,null,null,null,!1,u["a"],void 0);n["default"]=a.exports},"7fbc":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t={data:function(){var n=this;return{model1:{userInfo:{username:"",password:"",nickname:null,gender:null},passwordSecond:""},showSex:!1,genderArr:[{name:"男"},{name:"女"},{name:"保密"}],rules:{"userInfo.username":[{type:"string",required:!0,message:"请填写姓名",trigger:["blur","change"]},{min:3,message:"长度不小于3"},{validator:function(n,t,u){return e.$u.test.enOrNum(t)},message:"账号只能包含数字和字母",trigger:["change","blur"]},{asyncValidator:function(n,t,u){e.$u.http.get("/users/getUserName",{params:{name:t}}).then((function(e){e.data.msg?u(new Error("该用户已存在")):u()}))},trigger:["change","blur"]}],"userInfo.nickname":[{min:0,max:15,message:"长度在0-15个字符之间"},{pattern:/^[\u4e00-\u9fa5A-Za-z0-9_]{0,15}$/,transform:function(e){return String(e)},message:"只能包含中文、数字、字母、下划线,且长度大于1"}],"userInfo.password":[{type:"string",required:!0,message:"请输入密码",trigger:["blur","change"]},{min:5,message:"长度不小于5"}],passwordSecond:[{type:"string",required:!0,message:"请再次输入密码",trigger:["blur","change"]},{validator:function(e,t,u){var o=n.model1.userInfo.password==t;return o},message:"与第一次输入的密码不匹配",trigger:["blur"]}]}}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{toLogin:function(){e.navigateTo({url:"/pages/user/login/login"})},hideKeyboard:function(){e.hideKeyboard()},sexSelect:function(e){this.model1.userInfo.gender=e.name},submit:function(){var n=this;this.$refs.form.validate().then((function(t){var u=n.model1.userInfo;e.$u.http.post("/users/register",{username:u.username,nickname:u.nickname,password:u.password,gender:u.gender},{dataType:"json"}).then((function(n){console.log(n),e.$u.toast(n.data.msg),"注册成功"==n.data.msg&&setTimeout((function(){e.navigateTo({url:"/pages/user/login/login"})}),500)})).catch((function(e){console.log(e)}))})).catch((function(n){e.$u.toast("注册失败")}))}}};n.default=t}).call(this,t("543d")["default"])},b0b1:function(e,n,t){"use strict";(function(e,n){var u=t("4ea4");t("0ba6");u(t("66fd"));var o=u(t("531b"));e.__webpack_require_UNI_MP_PLUGIN__=t,n(o.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])},d7aa:function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){return u}));var u={"u-Form":function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u--form/u--form")]).then(t.bind(null,"a28e"))},uFormItem:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-form-item/u-form-item")]).then(t.bind(null,"6ebe"))},"u-Input":function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u--input/u--input")]).then(t.bind(null,"5ffc"))},uIcon:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(t.bind(null,"85ff"))},uButton:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-button/u-button")]).then(t.bind(null,"872b"))},uActionSheet:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-action-sheet/u-action-sheet")]).then(t.bind(null,"ac5e"))}},o=function(){var e=this,n=e.$createElement;e._self._c;e._isMounted||(e.e0=function(n){e.showSex=!0,e.hideKeyboard()},e.e1=function(n){e.showSex=!1})},r=[]}},[["b0b1","common/runtime","common/vendor"]]]);