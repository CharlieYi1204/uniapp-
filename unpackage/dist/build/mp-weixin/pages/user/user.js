(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/user"],{"0dd5":function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return u})),t.d(n,"a",(function(){return o}));var o={userTopIcon:function(){return t.e("components/userTopIcon/userTopIcon").then(t.bind(null,"616c"))},uToast:function(){return t.e("uni_modules/uview-ui/components/u-toast/u-toast").then(t.bind(null,"267c"))}},r=function(){var e=this.$createElement;this._self._c},u=[]},2118:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t={data:function(){return{userNewsCollect:[{title:"帖子",num:20,color:"rgb(116, 185, 255)"},{title:"收藏",num:35,color:"rgb(0, 206, 201)"},{title:"关注",num:10,color:"rgb(250, 177, 160)"},{title:"粉丝",num:12,color:"rgb(225, 112, 85)"}],userFunc:[{title:"修改个人信息",icon:"/static/icon/edit.png"},{title:"查看浏览历史",icon:"/static/icon/history.png"}],useInfo:{},isLogin:!1}},methods:{toLogin:function(){e.navigateTo({url:"/pages/user/login/login"})},getUserInfo:function(){var n=this,t=e.getStorageSync("user_token");console.log(t),t?e.$u.http.get("/users/verifyToken",{header:{Authorization:"Bearer ".concat(t)}}).then((function(t){var o=t.data,r=o.code,u=o.message;o.user;200==r?(n.isLogin=!0,n.useInfo=t.data.user.tokenData,e.setStorageSync("user_id",n.useInfo.user_id),console.log(n.useInfo)):(e.showToast({title:u,icon:"none"}),n.useInfo={icon:"/images/user_bg.jpg"},e.removeStorageSync("user_token"),e.removeStorageSync("user_id"),e.setStorageSync("isLogin",!1))})).catch((function(e){console.log(e)})):(e.removeStorageSync("user_token"),e.removeStorageSync("user_id"),e.setStorageSync("isLogin",!1),e.showToast({title:"请先登录",icon:"none"}),this.useInfo={icon:"/images/user_bg.jpg"})},logOut:function(){console.log("111"),e.removeStorageSync("user_token"),e.removeStorageSync("user_id"),e.setStorageSync("isLogin",!1),this.$refs.uToast.show({message:"退出登录成功",type:"success",position:"center",duration:800,complete:function(){e.redirectTo({url:"/pages/user/login/login"})}})}},mounted:function(){this.getUserInfo()}};n.default=t}).call(this,t("543d")["default"])},3771:function(e,n,t){"use strict";(function(e,n){var o=t("4ea4");t("0ba6");o(t("66fd"));var r=o(t("77f5"));e.__webpack_require_UNI_MP_PLUGIN__=t,n(r.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])},"77f5":function(e,n,t){"use strict";t.r(n);var o=t("0dd5"),r=t("faa3");for(var u in r)["default"].indexOf(u)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(u);t("8ebf");var i=t("f0c5"),s=Object(i["a"])(r["default"],o["b"],o["c"],!1,null,"a6a2c6b8",null,!1,o["a"],void 0);n["default"]=s.exports},"87f7":function(e,n,t){},"8ebf":function(e,n,t){"use strict";var o=t("87f7"),r=t.n(o);r.a},faa3:function(e,n,t){"use strict";t.r(n);var o=t("2118"),r=t.n(o);for(var u in o)["default"].indexOf(u)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(u);n["default"]=r.a}},[["3771","common/runtime","common/vendor"]]]);