(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/pageCard/pageCard"],{3276:function(t,e,n){"use strict";n.r(e);var a=n("b352"),i=n.n(a);for(var u in a)["default"].indexOf(u)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(u);e["default"]=i.a},"45d2":function(t,e,n){"use strict";var a=n("77ab"),i=n.n(a);i.a},"5a8c":function(t,e,n){"use strict";n.r(e);var a=n("c4cc"),i=n("3276");for(var u in i)["default"].indexOf(u)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(u);n("45d2");var r=n("f0c5"),s=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=s.exports},"77ab":function(t,e,n){},b352:function(t,e,n){"use strict";(function(t){var a=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("66fd")),u={name:"pageCard",props:{propUserHeadImgSrc:{type:String,default:""},propPageTime:{type:String,default:"2023/4/15"},imgBaseUrl:{type:String},propImgUrl:{type:Array},content:{type:String},title:{type:String},propData:{type:Object,default:function(){return{id:null,user_id:null,create_time:"2023-4-20",title:"标题",content:"这里是内容",image:null}}}},data:function(){return{$imgBaseUrl:i.default.prototype.$imgBaseUrl,isLike:null,likeCount:null,userAvatar:null,userName:null,commentNum:null,currentUserID:null}},methods:{getCommmentNum:function(){var e=this;t.$u.http.get("/bbs/getCommentCountByPostID",{params:{post_id:"".concat(this.propData.id)}}).then((function(t){e.commentNum=t.data[0].commentNum})).catch((function(t){console.log(t)}))},addVisitCount:function(){t.$u.http.get("/bbs/addVisitCount",{params:{post_id:"".concat(this.propData.id)}}).then((function(t){}))},getPostAuthor:function(){var e=this,n=this.propData.user_id;t.$u.http.get("/users/getIDTargetUser",{params:{user_id:"".concat(n)}}).then((function(t){var n=t.data.data[0];e.userAvatar=n.icon,n.nickname?e.userName=n.nickname:e.userName="用户".concat(n.user_id)}))},getLikesNum:function(){var e=this,n=this.propData.id;t.$u.http.get("/bbs/getLikesNum",{params:{post_id:"".concat(n)}}).then((function(t){e.likeCount=t.data.data[0].likesNum})),this.currentUserID=t.getStorageSync("user_id");var a=this.currentUserID;t.$u.http.get("/bbs/getIsLikes",{params:{post_id:"".concat(n),user_id:"".concat(a)}}).then((function(t){e.isLike=t.data}))},changeLikeStatus:function(){var e=this,n=this.propData.id;this.isLike?t.$u.http.get("/bbs/delLikes",{params:{post_id:"".concat(n),user_id:"".concat(this.currentUserID)}}).then((function(a){t.$u.http.get("/bbs/getLikesNum",{params:{post_id:"".concat(n)}}).then((function(t){e.likeCount=t.data.data[0].likesNum}))})):t.$u.http.get("/bbs/addLikes",{params:{post_id:"".concat(n),user_id:"".concat(this.currentUserID)}}).then((function(a){t.$u.http.get("/bbs/getLikesNum",{params:{post_id:"".concat(n)}}).then((function(t){e.likeCount=t.data.data[0].likesNum}))})),this.isLike=!this.isLike},toPageDetil:function(){var e=this.propData.id;this.addVisitCount(),t.navigateTo({url:"/pages/bbs/pageDetail/pageDetail?postID=".concat(e)})},toUserDetail:function(){t.navigateTo({url:"/pages/bbs/userDetail/userDetail?userID=".concat(this.propData.user_id)})}},mounted:function(){this.getPostAuthor(),this.getLikesNum(),this.getCommmentNum()}};e.default=u}).call(this,n("543d")["default"])},c4cc:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return a}));var a={uAvatar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-avatar/u-avatar")]).then(n.bind(null,"9706"))}},i=function(){var t=this.$createElement;this._self._c},u=[]}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/pageCard/pageCard-create-component',
    {
        'components/pageCard/pageCard-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("5a8c"))
        })
    },
    [['components/pageCard/pageCard-create-component']]
]);
